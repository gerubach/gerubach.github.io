---
layout: post
title: Blog Post 1 
---
*Italics* **Bold**

# header

```python 
def temperature_coefficient_plot(country, year_begin, year_end, month, min_obs, **kwargs):
    months = {1 : "January", 2 : "February", 3 : "March", 4 : "April",
             5 : "May", 6 : "June", 7 : "July", 8 : "August", 9 : "September", 
             10 : "October", 11 : "November", 12 : "December"}
    plot_title = f"Estimates of yearly increase in temperature in {months[month]} for stations in {country}, years {year_begin} to {year_end}"
    data = query_climate_database(country, year_begin, year_end, month)
    names = pd.unique(data["NAME"])
    plotted_names = []
    intensity = []
    for name in names:
        years = data.loc[data["NAME"] == name, "Year"]
        if len(years) >= min_obs: 
            plotted_names.append(name)
            temps = data.loc[data["NAME"] == name, "Temp"]
            line = LinearRegression().fit(years.to_frame(), temps)
            intensity += [line.coef_[0]] * len(years)
    fig = px.scatter_mapbox(data[data["NAME"].isin(plotted_names)], lat = "LATITUDE", lon = "LONGITUDE",
                        hover_name = "NAME", color = intensity, color_continuous_midpoint = 0, 
                            title = plot_title, 
                            labels = {"color" : f"Estimated Yearly Increase ({chr(176)}C)"}, **kwargs)
    return fig
                
color_map = px.colors.diverging.RdGy_r # choose a colormap
fig = temperature_coefficient_plot("India", 1980, 2020, 1, min_obs = 10, zoom = 2,
                                    mapbox_style="carto-positron",
                                    color_continuous_scale=color_map)
fig.show()
```

{% include india_interactive.html %}

```python
fig = temperature_coefficient_plot("South Africa", 1980, 2020, 8, min_obs = 10, zoom = 2,
                                    mapbox_style="carto-positron",
                                    color_continuous_scale=color_map)
fig.show()
```

{% include south_africa_interactive.html %}